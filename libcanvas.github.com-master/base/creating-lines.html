<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>LibCanvas :: Creating Lines</title>
		<link href="/files/styles.css" rel="stylesheet" />
		<script src="/files/js/atom.js"></script>
		<script src="/files/js/libcanvas.js"></script>
	</head>
	<body>
		<p><a href="/">Return to index</a></p>
		<p>dblClick on the canvas</p>
		<script>
new function () {
	var helper, last, count = 0;

	LibCanvas.extract();
	atom.patching(window);

	helper = new App.Light(new Size(600, 400));

	helper.mouse.events.add( 'dblclick', function () {
		var vector, point = helper.mouse.point.clone();

		vector = helper.createVector(new Circle(point, 5), { zIndex: ++count })
			.setStyle(               { fill: '#300', stroke: '#600' })
			.setStyle( 'hover' ,     { fill: '#600', stroke: '#900' })
			.setStyle( 'active',     { fill: '#060', stroke: '#090' });

		vector.clickable.start();
		vector.draggable.start();

		if (last) {
			helper
				.createVector(new Line(point, last), { zIndex: 0 })
				.setStyle({ stroke: '#600' });
		}

		last = point;
	});
};
		</script>
	</body>
</html>